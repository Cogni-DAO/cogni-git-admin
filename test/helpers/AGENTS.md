# Test Helpers

Utility modules for testing webhook handling and application behavior.

## Components

### `fixture-replay.ts`
Replays captured webhook fixtures against running servers for deterministic testing.

#### Functionality
- Reads JSON fixture files containing webhook metadata
- Decodes base64-encoded body data to exact raw bytes
- Constructs HTTP requests matching original webhooks
- Sends requests to specified target URLs
- Returns response status codes for assertions

#### API
```typescript
replayFixture(fixturePath: string, targetUrl: string): Promise<number>
```

#### Usage Example
```typescript
const statusCode = await replayFixture(
  'fixtures/alchemy/CogniSignal/example.json',
  'http://localhost:3000/api/v1/webhooks/onchain/cogni-signal'
);
expect(statusCode).toBe(200);
```

## Integration
Works with fixtures generated by `tools/dev/webhook-capture/` to enable record-and-replay testing of webhook handling logic.